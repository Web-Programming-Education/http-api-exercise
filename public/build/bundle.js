var app=function(){"use strict";function e(){}function n(e){return e()}function t(){return Object.create(null)}function r(e){e.forEach(n)}function i(e){return"function"==typeof e}function s(e,n){return e!=e?n==n:e!==n||e&&"object"==typeof e||"function"==typeof e}function a(e,n){e.appendChild(n)}function o(e,n,t){e.insertBefore(n,t||null)}function l(e){e.parentNode.removeChild(e)}function u(e){return document.createElement(e)}function c(e){return document.createTextNode(e)}function d(){return c(" ")}function f(e,n,t,r){return e.addEventListener(n,t,r),()=>e.removeEventListener(n,t,r)}function g(e){return function(n){return n.preventDefault(),e.call(this,n)}}function m(e,n,t){null==t?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function h(e,n){n=""+n,e.wholeText!==n&&(e.data=n)}let p;function b(e){p=e}function w(){if(!p)throw new Error("Function called outside component initialization");return p}function $(){const e=w();return(n,t)=>{const r=e.$$.callbacks[n];if(r){const i=function(e,n){const t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,n),t}(n,t);r.slice().forEach(n=>{n.call(e,i)})}}}const v=[],k=[],x=[],C=[],y=Promise.resolve();let P=!1;function T(e){x.push(e)}let E=!1;const z=new Set;function A(){if(!E){E=!0;do{for(let e=0;e<v.length;e+=1){const n=v[e];b(n),S(n.$$)}for(v.length=0;k.length;)k.pop()();for(let e=0;e<x.length;e+=1){const n=x[e];z.has(n)||(z.add(n),n())}x.length=0}while(v.length);for(;C.length;)C.pop()();P=!1,E=!1,z.clear()}}function S(e){if(null!==e.fragment){e.update(),r(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(T)}}const j=new Set;let q;function D(){q={r:0,c:[],p:q}}function H(){q.r||r(q.c),q=q.p}function _(e,n){e&&e.i&&(j.delete(e),e.i(n))}function F(e,n,t,r){if(e&&e.o){if(j.has(e))return;j.add(e),q.c.push(()=>{j.delete(e),r&&(t&&e.d(1),r())}),e.o(n)}}function M(e){e&&e.c()}function R(e,t,s){const{fragment:a,on_mount:o,on_destroy:l,after_update:u}=e.$$;a&&a.m(t,s),T(()=>{const t=o.map(n).filter(i);l?l.push(...t):r(t),e.$$.on_mount=[]}),u.forEach(T)}function L(e,n){const t=e.$$;null!==t.fragment&&(r(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function N(e,n){-1===e.$$.dirty[0]&&(v.push(e),P||(P=!0,y.then(A)),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function B(n,i,s,a,o,u,c=[-1]){const d=p;b(n);const f=i.props||{},g=n.$$={fragment:null,ctx:null,props:u,update:e,not_equal:o,bound:t(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:t(),dirty:c,skip_bound:!1};let m=!1;if(g.ctx=s?s(n,f,(e,t,...r)=>{const i=r.length?r[0]:t;return g.ctx&&o(g.ctx[e],g.ctx[e]=i)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](i),m&&N(n,e)),t}):[],g.update(),m=!0,r(g.before_update),g.fragment=!!a&&a(g.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);g.fragment&&g.fragment.l(e),e.forEach(l)}else g.fragment&&g.fragment.c();i.intro&&_(n.$$.fragment),R(n,i.target,i.anchor),A()}b(d)}class O{$destroy(){L(this,1),this.$destroy=e}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const e=t.indexOf(n);-1!==e&&t.splice(e,1)}}$set(e){var n;this.$$set&&(n=e,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function I(n){let t,i,s,c,h,p,b,w,$,v,k,x,C,y,P,T,E;return{c(){t=u("h1"),t.textContent="Übersicht",i=d(),s=u("div"),c=u("ul"),h=u("li"),p=u("a"),p.textContent="Aufgabe 1 (1 Punkt)",b=d(),w=u("li"),$=u("a"),$.textContent="Aufgabe 2 (2 Punkte)",v=d(),k=u("li"),x=u("a"),x.textContent="Aufgabe 3 (6 Punkte)",C=d(),y=u("li"),P=u("a"),P.textContent="Aufgabe 4 (6 Punkte)",m(p,"href","#/"),m($,"href","#/"),m(x,"href","#/"),m(P,"href","#/"),m(c,"class","svelte-7rb6eg"),m(s,"class","center svelte-7rb6eg")},m(e,r){o(e,t,r),o(e,i,r),o(e,s,r),a(s,c),a(c,h),a(h,p),a(c,b),a(c,w),a(w,$),a(c,v),a(c,k),a(k,x),a(c,C),a(c,y),a(y,P),T||(E=[f(p,"click",g(n[1])),f($,"click",g(n[2])),f(x,"click",g(n[3])),f(P,"click",g(n[4]))],T=!0)},p:e,i:e,o:e,d(e){e&&l(t),e&&l(i),e&&l(s),T=!1,r(E)}}}function W(e){const n=$();return[n,()=>n("navigate",1),()=>n("navigate",2),()=>n("navigate",3),()=>n("navigate",4)]}class U extends O{constructor(e){super(),B(this,e,W,I,s,{})}}function Z(e,n){const t=setInterval(e,n);var r;r=()=>{clearInterval(t)},w().$$.on_destroy.push(r)}function G(n){let t,r,i,s,f;return{c(){t=u("div"),r=u("div"),i=d(),s=u("span"),f=c(n[0]),m(r,"class","spinner svelte-18btt7f"),m(s,"class","svelte-18btt7f"),m(t,"class","container svelte-18btt7f")},m(e,n){o(e,t,n),a(t,r),a(t,i),a(t,s),a(s,f)},p(e,[n]){1&n&&h(f,e[0])},i:e,o:e,d(e){e&&l(t)}}}function J(e,n,t){let{message:r="Bitte warten..."}=n;return e.$$set=e=>{"message"in e&&t(0,r=e.message)},[r]}class V extends O{constructor(e){super(),B(this,e,J,G,s,{message:0})}}var Q=hljs;function K(n){let t,r;return{c(){t=u("div"),r=u("pre"),m(r,"class","svelte-7hholt")},m(e,i){o(e,t,i),a(t,r),n[3](r)},p:e,i:e,o:e,d(e){e&&l(t),n[3](null)}}}function X(e,n,t){let r,{lang:i="js"}=n,{code:s=""}=n;return e.$$set=e=>{"lang"in e&&t(1,i=e.lang),"code"in e&&t(2,s=e.code)},e.$$.update=()=>{7&e.$$.dirty&&r&&function(e,n){let t=document.createElement("code");t.setAttribute("lang",n),t.innerText=e;for(const e of r.children)r.removeChild(e);r.appendChild(t),Q.highlightBlock(t)}(s,i)},[r,i,s,function(e){k[e?"unshift":"push"](()=>{r=e,t(0,r)})}]}class Y extends O{constructor(e){super(),B(this,e,X,K,s,{lang:1,code:2})}}function ee(n){let t,r,i,s,g,m,p,b,w,$;return{c(){t=u("h3"),r=c("Gut gemacht "),i=c(n[1]),s=c("!"),g=d(),m=u("p"),m.textContent="Weiter gehts mit einem Klick auf den Button",p=d(),b=u("button"),b.textContent="Weiter"},m(e,l){o(e,t,l),a(t,r),a(t,i),a(t,s),o(e,g,l),o(e,m,l),o(e,p,l),o(e,b,l),w||($=f(b,"click",n[5]),w=!0)},p(e,n){2&n&&h(i,e[1])},i:e,o:e,d(e){e&&l(t),e&&l(g),e&&l(m),e&&l(p),e&&l(b),w=!1,$()}}}function ne(n){let t;return{c(){t=u("div"),t.textContent="Das ist doch nicht dein Name!"},m(e,n){o(e,t,n)},p:e,i:e,o:e,d(e){e&&l(t)}}}function te(n){let t,r,i,s,d,f;return d=new Y({props:{code:n[3],lang:"js"}}),{c(){t=u("div"),r=c("Antworte auf die HTTP Anfrage \n        "),i=u("pre"),i.innerHTML='<code lang="http">GET /name HTTP/1.1</code>',s=c("\n        mit deinem Namen (als Text)\n\n\n        "),M(d.$$.fragment)},m(e,n){o(e,t,n),a(t,r),a(t,i),a(t,s),R(d,t,null),f=!0},p:e,i(e){f||(_(d.$$.fragment,e),f=!0)},o(e){F(d.$$.fragment,e),f=!1},d(e){e&&l(t),L(d)}}}function re(n){let t,r;return t=new V({}),{c(){M(t.$$.fragment)},m(e,n){R(t,e,n),r=!0},p:e,i(e){r||(_(t.$$.fragment,e),r=!0)},o(e){F(t.$$.fragment,e),r=!1},d(e){L(t,e)}}}function ie(e){let n,t,r,i,s,g,h,p,b,w;const $=[re,te,ne,ee],v=[];function k(e,n){return null===e[0]?0:e[0]?"string"!=typeof e[1]||""===e[1]||"<Euer Name>"===e[1]?2:3:1}return s=k(e),g=v[s]=$[s](e),{c(){n=u("h1"),t=u("a"),t.textContent="Zurück",r=c("Übung 1 (1 Punkt)"),i=d(),g.c(),h=c(""),m(t,"href","#/")},m(l,u){o(l,n,u),a(n,t),a(n,r),o(l,i,u),v[s].m(l,u),o(l,h,u),p=!0,b||(w=f(t,"click",e[4]),b=!0)},p(e,[n]){let t=s;s=k(e),s===t?v[s].p(e,n):(D(),F(v[t],1,1,()=>{v[t]=null}),H(),g=v[s],g||(g=v[s]=$[s](e),g.c()),_(g,1),g.m(h.parentNode,h))},i(e){p||(_(g),p=!0)},o(e){F(g),p=!1},d(e){e&&l(n),e&&l(i),v[s].d(e),e&&l(h),b=!1,w()}}}function se(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,o)}l((r=r.apply(e,n||[])).next())}))};const i=$();let s=null,a=null;Z((function(){return r(this,void 0,void 0,(function*(){try{let e=yield fetch("/name");e.status<200||e.status>=400?t(0,s=!1):(t(0,s=!0),t(1,a=yield e.text()))}catch(e){t(0,s=!1)}}))}),1e3);return[s,a,i,'// Mit app.get kann ein "RequestHandler" angelegt werden\n// Der erste Parameter ist der Pfad für den der Handler aufgerufen wird\n// der zweite Teil eine Funktion die jedes Mal aufgerufen wird wenn \n// eine passende Anfrage ankommt.\napp.get(\'/name\', (req, res) => {\n    // Der req Parameter enthält alles zur Anfrage.\n    // Mithilfe des res Parameters können wir die Antwort verändern.\n    // In diesem Beispiel senden wir einfach unseren Namen als Text:\n    res.send("<Euer Name>");\n});\n\napp.listen(...\n',()=>i("navigate",0),()=>i("navigate",2)]}class ae extends O{constructor(e){super(),B(this,e,se,ie,s,{})}}function oe(e){let n,t,r,i;return r=new Y({props:{code:e[2],lang:"json"}}),{c(){n=u("h4"),n.textContent="Ergebnis:",t=d(),M(r.$$.fragment)},m(e,s){o(e,n,s),o(e,t,s),R(r,e,s),i=!0},p(e,n){const t={};4&n&&(t.code=e[2]),r.$set(t)},i(e){i||(_(r.$$.fragment,e),i=!0)},o(e){F(r.$$.fragment,e),i=!1},d(e){e&&l(n),e&&l(t),L(r,e)}}}function le(e){let n,t,r,i;return r=new Y({props:{code:e[2]}}),{c(){n=u("p"),n.textContent="Das ist leider kein richtiges JSON:",t=d(),M(r.$$.fragment)},m(e,s){o(e,n,s),o(e,t,s),R(r,e,s),i=!0},p(e,n){const t={};4&n&&(t.code=e[2]),r.$set(t)},i(e){i||(_(r.$$.fragment,e),i=!0)},o(e){F(r.$$.fragment,e),i=!1},d(e){e&&l(n),e&&l(t),L(r,e)}}}function ue(n){let t;return{c(){t=u("p"),t.textContent="Die Abfrage hat leider nicht funktioniert!"},m(e,n){o(e,t,n)},p:e,i:e,o:e,d(e){e&&l(t)}}}function ce(n){let t;return{c(){t=u("p"),t.textContent="Zum Testen auf den Button klicken"},m(e,n){o(e,t,n)},p:e,i:e,o:e,d(e){e&&l(t)}}}function de(e){let n,t,i,s,g,h,p,b,w,$,v,k,x,C,y,P,T,E,z,A,S;const j=[ce,ue,le,oe],q=[];function M(e,n){return null===e[0]?0:e[0]?e[1]?3:2:1}return y=M(e),P=q[y]=j[y](e),{c(){n=u("h1"),t=u("a"),t.textContent="Zurück",i=c("Übung 2 (2 Punkte)"),s=d(),g=u("div"),h=u("div"),h.innerHTML='<h3>Komplexe Daten</h3> \n        <p>Häufig wollen wir mehr als nur einen Text übertragen.<br>\n            Wie wir gelernt haben benötigen wir hierfür ein Serialisierungsformat.<br>\n            Beispiele dafür sind XML oder JSON.</p> \n        <p>Damit wir nicht jedes Mal <code>JSON.stringify(...)</code> aufrufen müssen, gibt es in Express.js\n            eine nützliche Hilfsfunktion: <code>res.json(...)</code> die wir statt <code>res.send()</code> verwenden können.</p> \n        <p>Als Parameter kann ein Javascript Objekt übergeben werden.</p> \n        <h4>Aufgabe</h4> \n        <p>Füge einen RequestHandler für die Route <code>GET /json</code> hinzu und verwende die <code>res.json()</code> \n            Funktion um ein Objekt mit den folgenden Feldern zurückzugeben:</p> \n        <div class="center svelte-s4p5ab"><ul><li>name (string)</li> \n                <li>lastName (string)</li> \n                <li>hobbies (array aus strings)</li> \n                <li>age (number)</li></ul></div>',p=d(),b=u("div"),w=u("h3"),w.textContent="Test",$=d(),v=u("p"),v.textContent="Hier kann die API getestet werden. Das Ergebnis wird unten dargestellt.",k=d(),x=u("button"),x.textContent="Abfrage starten",C=d(),P.c(),T=d(),E=u("button"),E.textContent="Weiter",m(t,"href","#/"),m(g,"class","grid svelte-s4p5ab")},m(r,l){o(r,n,l),a(n,t),a(n,i),o(r,s,l),o(r,g,l),a(g,h),a(g,p),a(g,b),a(b,w),a(b,$),a(b,v),a(b,k),a(b,x),a(b,C),q[y].m(b,null),o(r,T,l),o(r,E,l),z=!0,A||(S=[f(t,"click",e[5]),f(x,"click",e[4]),f(E,"click",e[6])],A=!0)},p(e,[n]){let t=y;y=M(e),y===t?q[y].p(e,n):(D(),F(q[t],1,1,()=>{q[t]=null}),H(),P=q[y],P||(P=q[y]=j[y](e),P.c()),_(P,1),P.m(b,null))},i(e){z||(_(P),z=!0)},o(e){F(P),z=!1},d(e){e&&l(n),e&&l(s),e&&l(g),q[y].d(),e&&l(T),e&&l(E),A=!1,r(S)}}}function fe(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,o)}l((r=r.apply(e,n||[])).next())}))};const i=$();let s=null,a=!1,o=null;return[s,a,o,i,function(){return r(this,void 0,void 0,(function*(){try{let e=yield fetch("/json");if(e.status<200||e.status>=400)t(0,s=!1);else{t(0,s=!0),t(2,o=yield e.text());try{t(2,o=JSON.stringify(JSON.parse(o),null,2)),t(1,a=!0)}catch(e){t(1,a=!1)}}}catch(e){t(2,o=null),t(0,s=!1)}}))},()=>i("navigate",0),()=>i("navigate",3)]}class ge extends O{constructor(e){super(),B(this,e,fe,de,s,{})}}function me(n){let t,i,s,g,h,p,b,w,$,v,k,x,C,y,P,T,E,z,A,S,j,q,D,H,N,B,O,I,W,U,Z,G,J,V,Q,K,X,ee,ne,te,re,ie,se,ae,oe,le,ue,ce,de,fe,ge,me,he,pe,be,we,$e,ve,ke,xe,Ce,ye,Pe,Te,Ee,ze,Ae,Se,je,qe,De,He,_e,Fe,Me,Re,Le,Ne;return E=new Y({props:{lang:"js",code:n[1]}}),B=new Y({props:{lang:"js",code:n[2]}}),G=new Y({props:{lang:"js",code:n[3]}}),le=new Y({props:{lang:"js",code:n[4]}}),{c(){t=u("h1"),i=u("a"),i.textContent="Zurück",s=c("Übung 3 (6 Punkte)"),g=d(),h=u("div"),p=u("div"),b=u("h3"),b.textContent="Parameter",w=d(),$=u("p"),$.innerHTML="Wie beim Aufruf von Javascript-Funktionen ist es auch bei API-Aufrufen oft hilfreich, Daten als Parameter zu übergeben.<br>\n            Dazu gibt es im wesentlichen zwei Mechanismen.",v=d(),k=u("p"),k.textContent="Beide erlauben es Strings als Parameter zu übergeben. Sie müssen also manuell in den korrekten Datentyp umgewandelt werden.",x=d(),C=u("h4"),C.textContent="Variable Teile im Pfad der URL",y=d(),P=u("p"),T=c("Express erlaubt es im Pfad eines RequestHandlers Platzhalter zu definieren:\n            "),M(E.$$.fragment),z=d(),A=u("h4"),A.textContent="Query-Parameter",S=d(),j=u("p"),q=c("Eine andere Möglichkeit ist die Verwendung von Query-Parametern, also dem Teil der in der URL hinter dem ? steht.\n            "),D=u("a"),D.textContent="http://localhost:3000/return/?variable=query",H=u("br"),N=c("\n            Auf diese Parameter kann wie folgt zugegriffen werden:\n            "),M(B.$$.fragment),O=d(),I=u("h4"),I.textContent="Konvertierung von Datentypen",W=d(),U=u("p"),U.textContent="Häufig muss man Texte in andere Datentypen, wie beispielsweise Zahlen, konvertieren.\n            Das folgende Beispiel zeigt wie das funktioniert:",Z=d(),M(G.$$.fragment),J=d(),V=u("h4"),V.textContent="Fehlerbehandlung",Q=d(),K=u("p"),K.textContent="Sobald Parameter ins Spiel kommen, ist es wichtig darauf zu achten, dass die Werte dem entsprechen was man erwartet.\n            Wenn wir beispielsweise mit einer Zahl rechnen, aber ein String gesendet wird der sich nicht umwandeln lässt gibt es einen Fehler.",X=d(),ee=u("p"),ee.textContent="Im schlimmsten Fall können solche Fehler zu Sicherheitslücken führen. Deshalb sollten sie unbedingt bedacht und behandelt werden.",ne=d(),te=u("p"),re=c("HTTP bietet als Mechanismus für die Fehlerbehandlung sogenannte Response Codes an."),ie=u("br"),se=c("\n            In Express können diese mit der "),ae=u("code"),ae.textContent="res.status(...)",oe=c(" Funktion gesetzt werden.\n            "),M(le.$$.fragment),ue=d(),ce=u("div"),de=u("h3"),de.textContent="Aufgabe",fe=d(),ge=u("p"),ge.innerHTML="Lege einen RequestHandler für die Route <code>GET /return</code> an.<br>\n            Die API soll eine Ganzzahl als Parameter im Pfad entgegen nehmen.<br>\n            Eine zusätzliche Zahl soll als Query-Parameter <code>plus</code> oder <code>minus</code> übergeben werden können.\n            Das Ergebnis der jeweiligen Operation soll als JSON Objekt mit dem Feld &quot;result&quot; zurückgegeben werden.\n            Beispiele sind:",me=d(),he=u("div"),pe=u("ul"),be=u("li"),be.innerHTML='<a href="/return/5?plus=3" target="_blank">http://localhost:3000/return/5?plus=3</a>',we=d(),$e=u("li"),ve=c("Erwartetes Ergebnis: "),ke=u("code"),ke.textContent='{"result": 8}',xe=d(),Ce=u("li"),Ce.innerHTML='<a href="/return/7?minus=2" target="_blank">http://localhost:3000/return/7?minus=2</a>',ye=d(),Pe=u("li"),Te=c("Erwartetes Ergebnis: "),Ee=u("code"),Ee.textContent='{"result": 5}',ze=d(),Ae=u("p"),Ae.textContent="Dabei sollen folgende Randbedingungen erfüllt werden:",Se=d(),je=u("div"),je.innerHTML="<ul><li>Fehlerbehandlung (HTTP Status 400) für folgende Fälle:\n                    <ul><li>Ein Parameter ist keine Ganzzahl</li> \n                        <li>Es sind beide Queryparameter angegeben (plus und minus)</li> \n                        <li>Es ist kein Queryparameter angegeben</li></ul></li> \n                <li>Das Ergebnis muss der jeweiligen mathematischen Funktion entsprechen</li></ul>",qe=d(),De=u("h3"),De.textContent="Test",He=d(),_e=u("p"),_e.textContent="Klickt auf die Beispiellinks und ändert dann die URL im Browser ab um die API zu testen.",Fe=d(),Me=u("button"),Me.textContent="Weiter",m(i,"href","#/"),m(D,"href","/return/?variable=query"),m(D,"target","_blank"),m(he,"class","center svelte-113hjua"),m(je,"class","center svelte-113hjua"),m(h,"class","grid svelte-113hjua")},m(e,r){o(e,t,r),a(t,i),a(t,s),o(e,g,r),o(e,h,r),a(h,p),a(p,b),a(p,w),a(p,$),a(p,v),a(p,k),a(p,x),a(p,C),a(p,y),a(p,P),a(P,T),R(E,P,null),a(p,z),a(p,A),a(p,S),a(p,j),a(j,q),a(j,D),a(j,H),a(j,N),R(B,j,null),a(p,O),a(p,I),a(p,W),a(p,U),a(p,Z),R(G,p,null),a(p,J),a(p,V),a(p,Q),a(p,K),a(p,X),a(p,ee),a(p,ne),a(p,te),a(te,re),a(te,ie),a(te,se),a(te,ae),a(te,oe),R(le,te,null),a(h,ue),a(h,ce),a(ce,de),a(ce,fe),a(ce,ge),a(ce,me),a(ce,he),a(he,pe),a(pe,be),a(pe,we),a(pe,$e),a($e,ve),a($e,ke),a(pe,xe),a(pe,Ce),a(pe,ye),a(pe,Pe),a(Pe,Te),a(Pe,Ee),a(ce,ze),a(ce,Ae),a(ce,Se),a(ce,je),a(ce,qe),a(ce,De),a(ce,He),a(ce,_e),o(e,Fe,r),o(e,Me,r),Re=!0,Le||(Ne=[f(i,"click",n[5]),f(Me,"click",n[6])],Le=!0)},p:e,i(e){Re||(_(E.$$.fragment,e),_(B.$$.fragment,e),_(G.$$.fragment,e),_(le.$$.fragment,e),Re=!0)},o(e){F(E.$$.fragment,e),F(B.$$.fragment,e),F(G.$$.fragment,e),F(le.$$.fragment,e),Re=!1},d(e){e&&l(t),e&&l(g),e&&l(h),L(E),L(B),L(G),L(le),e&&l(Fe),e&&l(Me),Le=!1,r(Ne)}}}function he(e){const n=$();return[n,"// Der Doppelpunkt im Pfad markiert einen Platzhalter\n// Mit req.params.<name> kann darauf zugegriffen werden\napp.get('/return/:variable', (req, res) => {\n  const variable = parseInt(req.params.variable);\n  res.json({variable: variable});\n});","app.get('/return', (req, res) => {\n  res.send(req.query.variable)\n});","const text = '5'\n\nconst number = parseInt(text)\n\nif (Number.isNaN(number)) {\n    /* Der Text konnte nicht konvertiert werden\n       weil er keine Zahl darstellt. */\n} else {\n    /* number ist jetzt eine Zahl. */\n    console.log(number)\n}","app.get('/return', (req, res) => {\n  if (req.query.variable === undefined) {\n      res.status(400).json({\n          error: 'Bad Request: Query parameter \"variable\" missing'\n      });\n  } else {\n    res.json({message: 'success'});\n  }\n});",()=>n("navigate",0),()=>n("navigate",4)]}class pe extends O{constructor(e){super(),B(this,e,he,me,s,{})}}function be(n){let t,r,i,s,g,h,p,b,w,$,v,k,x,C,y,P,T,E,z,A,S,j,q,D,H,N,B,O,I,W,U,Z,G,J,V,Q,K,X,ee,ne,te,re,ie,se,ae,oe,le,ue,ce,de,fe,ge;return y=new Y({props:{lang:"js",code:n[1]}}),N=new Y({props:{lang:"js",code:n[3]}}),ie=new Y({props:{lang:"js",code:n[2]}}),{c(){t=u("h1"),r=u("a"),r.textContent="Zurück",i=c("Übung 4 (6 Punkte)"),s=d(),g=u("div"),h=u("div"),p=u("h3"),p.textContent="HTTP Post",b=d(),w=u("p"),w.innerHTML="GET-Requests können sehr einfach mit dem Browser ausgetestet werden, \n            da der Browser bei Eingabe einer URL immer einen GET-Request sendet.<br>\n            Um andere Requests zu analysieren bieten sich externe Tools an. \n            Unser Vorschlag ist &#39;REST Client&#39;, eine VS Code Erweiterung.",$=d(),v=u("p"),v.innerHTML="Installieren mit Ctrl+P: <code>ext install humao.rest-client</code>",k=d(),x=u("p"),C=c("Füge folgenden RequestHandler zur Anwendung hinzu:\n            "),M(y.$$.fragment),P=c('\n            Starte die Anwendung und öffne die Datei test.http in VS Code.\n            Wenn die Erweiterung installiert ist sollte ganz oben in der Datei "Send Request" stehen.'),T=d(),E=u("p"),E.textContent="Beim Absenden sieht man im Terminal in dem die Anwendung läuft eine Ausgabe der gesendeten Daten.\n            In einem Fenster, dass sich in VS Code öffnet sieht man die Antwort des Serverprogramms.",z=d(),A=u("h3"),A.textContent="Speichern von Passwörtern",S=d(),j=u("p"),j.textContent="Passwörter sollten niemals direkt abgespeichert werden.\n            Stattdessen sollte aus dem Passwort ein Wert errechnet werden, der nicht wieder in das Passwort zurückgerechnet werden kann.\n            Auf diese Art und Weise ist es weniger schlimm wenn zum Beispiel Benutzerdaten gestohlen werden.",q=d(),D=u("p"),D.textContent="Folgender Code kann verwendet werden um ein Passwort auf diese Weise umzurechnen:",H=d(),M(N.$$.fragment),B=d(),O=u("div"),I=u("h3"),I.textContent="Aufgabe",W=d(),U=u("p"),Z=c("Erstelle einen Endpunkt zum Anlegen von Benutzern "),G=u("code"),G.textContent="POST /register",J=u("br"),V=c("\n            Der Endpunkt soll ein JSON Objekt "),Q=u("code"),Q.textContent='{"username": "...", "password": "..."}',K=c(" annehmen.\n            Falls nicht beide Felder vorhanden und vom Typ string sind \n            ("),X=u("a"),X.textContent="Google hilft weiter",ee=c("),\n            soll ein HTTP-Status 400 zurückgegeben werden."),ne=d(),te=u("p"),te.innerHTML="Wird eine valide Anfrage gestellt, soll ein User-Objekt mit den Feldern\n            <b>username</b> und <b>passwordDerivative</b> im globalen Array &#39;users&#39; eingefügt werden.\n            Der Wert des Feldes <b>passwordDerivative</b> soll mit der Methode für das sichere Speichern von Passwörtern erzeugt werden.\n            Anschließend soll mit HTTP-Status &#39;201 - Created&#39; geantwortet werden.",re=d(),M(ie.$$.fragment),se=d(),ae=u("p"),ae.innerHTML="Anschließend soll der Endpunkt <code>POST /login</code> angelegt werden.\n            Der Request soll ebenfalls mit Status 400 abgelehnt werden, falls nicht ein Objekt mit den Feldern\n            <b>username</b> und <b>password</b> vorhanden ist und diese den Typ string haben.",oe=d(),le=u("p"),le.textContent="Anschließend soll überprüft werden ob Username und Passwort korrekt, also schon im Array vorhanden sind. \n            (Tipp: vor dem Vergleich des Passworts muss dieses natürlich wieder umgerechnet werden)",ue=d(),ce=u("p"),ce.innerHTML="Sind Username und Passwort korrekt: Sende HTTP-Status 200.<br>\n            Ist Username oder Passwort falsch: Sende HTTP-Status 401 (Unauthorized)",m(r,"href","#/"),m(X,"href","https://www.google.com/?q=javascript+type+string"),m(g,"class","grid svelte-113hjua")},m(e,l){o(e,t,l),a(t,r),a(t,i),o(e,s,l),o(e,g,l),a(g,h),a(h,p),a(h,b),a(h,w),a(h,$),a(h,v),a(h,k),a(h,x),a(x,C),R(y,x,null),a(x,P),a(h,T),a(h,E),a(h,z),a(h,A),a(h,S),a(h,j),a(h,q),a(h,D),a(h,H),R(N,h,null),a(g,B),a(g,O),a(O,I),a(O,W),a(O,U),a(U,Z),a(U,G),a(U,J),a(U,V),a(U,Q),a(U,K),a(U,X),a(U,ee),a(O,ne),a(O,te),a(O,re),R(ie,O,null),a(O,se),a(O,ae),a(O,oe),a(O,le),a(O,ue),a(O,ce),de=!0,fe||(ge=f(r,"click",n[4]),fe=!0)},p:e,i(e){de||(_(y.$$.fragment,e),_(N.$$.fragment,e),_(ie.$$.fragment,e),de=!0)},o(e){F(y.$$.fragment,e),F(N.$$.fragment,e),F(ie.$$.fragment,e),de=!1},d(e){e&&l(t),e&&l(s),e&&l(g),L(y),L(N),L(ie),fe=!1,ge()}}}function we(e){const n=$();return[n,"app.post('/post', function(req, res) {\n  console.log(req.body);\n  res.json(req.body.testdaten);\n});","// Variable die überlebt solange das Programm läuft.\n// Muss außerhalb eines RequestHandlers stehen.\nlet users = [];\n\napp.post('/register', function(req, res) {\n    \n});","const passwordDerivative = crypto.pbkdf2Sync(\n    password, \n    'randomStringYouShouldChange', \n    100000, \n    64, \n    'sha512'\n).toString('hex');\n",()=>n("navigate",0)]}class $e extends O{constructor(e){super(),B(this,e,we,be,s,{})}}function ve(e){let n,t,r;var i=e[1][e[0]];return i&&(t=new i({}),t.$on("navigate",e[3])),{c(){n=u("main"),t&&M(t.$$.fragment),m(n,"class","svelte-1rcwvw9")},m(e,i){o(e,n,i),t&&R(t,n,null),r=!0},p(e,[r]){if(i!==(i=e[1][e[0]])){if(t){D();const e=t;F(e.$$.fragment,1,0,()=>{L(e,1)}),H()}i?(t=new i({}),t.$on("navigate",e[3]),M(t.$$.fragment),_(t.$$.fragment,1),R(t,n,null)):t=null}},i(e){r||(t&&_(t.$$.fragment,e),r=!0)},o(e){t&&F(t.$$.fragment,e),r=!1},d(e){e&&l(n),t&&L(t)}}}function ke(e,n,t){let r=0;function i(e){console.log(e),t(0,r=e)}return[r,[U,ae,ge,pe,$e],i,e=>i(e.detail)]}return new class extends O{constructor(e){super(),B(this,e,ke,ve,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
